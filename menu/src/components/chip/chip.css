/**
 * Chip Component
 * Componente para seleções, filtros e tags
 */

/* Base */
.chip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1-5) var(--space-3);
  font-size: var(--font-size-13);
  font-weight: 500;
  line-height: var(--line-height-ratio-none);
  color: var(--text);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-full);
  cursor: pointer;
  user-select: none;
  transition: all 0.15s ease;
  white-space: nowrap;
}

.chip:hover {
  background: var(--gray-100);
  border-color: var(--gray-300);
}

.chip:active {
  background: var(--gray-200);
}

.chip:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Icon inside chip */
.chip-icon {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.chip-icon svg {
  width: 14px;
  height: 14px;
}

/* Avatar inside chip */
.chip-avatar {
  width: 18px;
  height: 18px;
  border-radius: var(--radius-full);
  object-fit: cover;
  margin-left: -4px;
  flex-shrink: 0;
}

/* Close button */
.chip-close {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: -4px;
  margin-left: 2px;
  border-radius: var(--radius-full);
  color: var(--text-secondary);
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.chip-close:hover {
  background: var(--gray-200);
  color: var(--text);
}

.chip-close svg {
  width: 12px;
  height: 12px;
}

/* ===== SIZES ===== */

.chip--sm {
  padding: var(--space-1) var(--space-2);
  font-size: var(--font-size-xs);
  gap: var(--space-1);
}

.chip--sm .chip-icon {
  width: 14px;
  height: 14px;
}

.chip--sm .chip-icon svg {
  width: 12px;
  height: 12px;
}

.chip--sm .chip-avatar {
  width: 16px;
  height: 16px;
  margin-left: -2px;
}

.chip--sm .chip-close {
  width: 14px;
  height: 14px;
  margin-right: -2px;
}

.chip--sm .chip-close svg {
  width: 10px;
  height: 10px;
}

.chip--lg {
  padding: var(--space-2) var(--space-4);
  font-size: var(--font-size-s);
}

.chip--lg .chip-icon {
  width: 18px;
  height: 18px;
}

.chip--lg .chip-icon svg {
  width: 16px;
  height: 16px;
}

.chip--lg .chip-avatar {
  width: 22px;
  height: 22px;
  margin-left: -6px;
}

.chip--lg .chip-close {
  width: 18px;
  height: 18px;
  margin-right: -6px;
}

/* ===== MULTIPLE CHOICE CHIP ===== */

.chip--multiple {
  padding-left: var(--space-2);
}

.chip--multiple .chip-checkbox {
  width: 16px;
  height: 16px;
  border: 1.5px solid var(--gray-300);
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.15s ease;
  flex-shrink: 0;
}

.chip--multiple .chip-checkbox svg {
  width: 10px;
  height: 10px;
  color: var(--white);
  opacity: 0;
  transform: scale(0.5);
  transition: all 0.15s ease;
}

.chip--multiple.is-selected .chip-checkbox {
  background: var(--primary);
  border-color: var(--primary);
}

.chip--multiple.is-selected .chip-checkbox svg {
  opacity: 1;
  transform: scale(1);
}

.chip--multiple:hover .chip-checkbox {
  border-color: var(--gray-400);
}

.chip--multiple.is-selected:hover .chip-checkbox {
  background: var(--blue-600);
  border-color: var(--blue-600);
}

/* ===== SINGLE CHOICE CHIP ===== */

.chip--single.is-selected {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--white);
}

.chip--single.is-selected:hover {
  background: var(--blue-600);
  border-color: var(--blue-600);
}

/* ===== INPUT CHIP ===== */

.chip--input {
  background: var(--gray-100);
  border-color: transparent;
}

.chip--input:hover {
  background: var(--gray-200);
  border-color: transparent;
}

.chip--input.is-selected {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--white);
}

.chip--input.is-selected .chip-close {
  color: var(--opacity-white-70);
}

.chip--input.is-selected .chip-close:hover {
  background: var(--overlay-white-md);
  color: var(--white);
}

/* ===== FILTER CHIP ===== */

.chip--filter {
  background: transparent;
  border-color: var(--border);
}

.chip--filter:hover {
  background: var(--gray-50);
}

.chip--filter.is-selected {
  background: var(--blue-50);
  border-color: var(--primary);
  color: var(--primary);
}

.chip--filter.is-selected .chip-icon {
  color: var(--primary);
}

/* ===== STATES ===== */

.chip.is-disabled {
  opacity: var(--opacity-disabled);
  cursor: not-allowed;
  pointer-events: none;
}

/* ===== COLOR VARIANTS ===== */

.chip--primary.is-selected {
  background: var(--primary);
  border-color: var(--primary);
  color: var(--white);
}

.chip--success.is-selected {
  background: var(--color-success);
  border-color: var(--color-success);
  color: var(--white);
}

.chip--error.is-selected {
  background: var(--color-error);
  border-color: var(--color-error);
  color: var(--white);
}

.chip--warning.is-selected {
  background: var(--color-warning);
  border-color: var(--color-warning);
  color: var(--gray-900);
}

/* ===== DARK MODE ===== */

.chip--dark {
  background: var(--gray-800);
  border-color: var(--gray-700);
  color: var(--white);
}

.chip--dark:hover {
  background: var(--gray-700);
  border-color: var(--gray-600);
}

.chip--dark:active {
  background: var(--gray-600);
}

.chip--dark .chip-close {
  color: var(--gray-400);
}

.chip--dark .chip-close:hover {
  background: var(--gray-600);
  color: var(--white);
}

/* Dark + Multiple */
.chip--dark.chip--multiple .chip-checkbox {
  border-color: var(--gray-500);
}

.chip--dark.chip--multiple:hover .chip-checkbox {
  border-color: var(--gray-400);
}

/* Dark + Single selected */
.chip--dark.chip--single.is-selected {
  background: var(--primary);
  border-color: var(--primary);
}

/* Dark + Input */
.chip--dark.chip--input {
  background: var(--gray-700);
  border-color: transparent;
}

.chip--dark.chip--input:hover {
  background: var(--gray-600);
}

/* Dark + Filter */
.chip--dark.chip--filter {
  background: transparent;
  border-color: var(--gray-600);
}

.chip--dark.chip--filter:hover {
  background: var(--gray-800);
}

.chip--dark.chip--filter.is-selected {
  background: var(--info-alpha-sm);
  border-color: var(--primary);
  color: var(--blue-400);
}

/* ===== CHIP GROUP ===== */

.chip-group {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.chip-group--vertical {
  flex-direction: column;
  align-items: flex-start;
}

/* ===== CHIP INPUT FIELD ===== */

.chip-input-field {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-3);
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  min-height: 44px;
  cursor: text;
}

.chip-input-field:focus-within {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--info-alpha-xs);
}

.chip-input-field input {
  flex: 1;
  min-width: 100px;
  border: none;
  outline: none;
  font-size: var(--font-size-s);
  background: transparent;
  color: var(--text);
}

.chip-input-field input::placeholder {
  color: var(--text-tertiary);
}

/* Dark chip input field */
.chip-input-field--dark {
  background: var(--gray-800);
  border-color: var(--gray-700);
}

.chip-input-field--dark:focus-within {
  border-color: var(--primary);
}

.chip-input-field--dark input {
  color: var(--white);
}

.chip-input-field--dark input::placeholder {
  color: var(--gray-500);
}
